<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">

	<h:form>
		<legend>#{displayLegend}</legend>
		<a4j:region>
			<rich:panel style="width: 500px">
				<f:facet name="header">User Details</f:facet>
				<h:panelGrid id="panel" columns="3">
					<h:outputLabel for="firstName" value="First Name" />
					<h:inputText id="firstName"
						value="#{usersManagement.selectedUser.firstName}">
						<rich:beanValidator summary="Invalid First Name" />
					</h:inputText>
					<rich:message for="firstName" style="background-color: red;"/>
					<h:outputLabel for="password" value="Second Name" />
					<h:inputText id="secondName"
						value="#{usersManagement.selectedUser.secondName}">
						<rich:beanValidator summary="Invalid Second Name" />
					</h:inputText>
					<rich:message for="secondName" style="background-color: red;"/>
					<h:outputLabel for="email" value="Email" />
					<h:inputText id="email"
						value="#{usersManagement.selectedUser.email}">
						<rich:beanValidator summary="Invalid Email" />
					</h:inputText>
					<rich:message for="email" style="background-color: red;"/>
					<h:outputLabel for="password" value="Password" />
					<h:inputSecret id="password"
						value="#{usersManagement.selectedUser.password}">
						<rich:beanValidator summary="Invalid First Name" />
					</h:inputSecret>
					<rich:message for="password" style="background-color: red;"/>

					<a4j:commandButton id="submit_create" value="Create"
						action="#{usersManagement.persist(usersManagement.selectedUser)}"
						rendered="#{type == 'create'}" />

					<a4j:commandButton id="submit_update" value="Update"
						rendered="#{type != 'create'}"
						action="#{usersManagement.update(usersManagement.selectedUser)}" />
				</h:panelGrid>
			</rich:panel>
		</a4j:region>
	</h:form>
</ui:composition>
