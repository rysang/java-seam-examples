<div xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">


	<p:panel id="panelComplaints"
		header="#{ctrlm['list.of.complaints.title.open.complaints']}"
		style="margin-bottom:10px;">
		<h:form>
			<p:dataTable id="unlockedComplDt" var="complaint"
				value="#{complaintActions.unlockedComplaints}"
				widgetVar="complaintTable"
				emptyMessage="No complaints found with given criteria"
				paginator="true" rows="10" paginatorPosition="bottom"
				paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				rowsPerPageTemplate="5,10,15">

				<p:column id="refColumn" sortBy="#{complaint.reference}"
					headerText="#{ctrlm['list.of.complaints.reference']}"
					filterMatchMode="contains">
					<h:outputText value="#{complaint.reference}" />
				</p:column>

				<p:column id="dateColumn" sortBy="#{complaint.modifDate}"
					headerText="#{ctrlm['list.of.complaints.date']}"
					filterMatchMode="contains">
					<h:outputText value="#{complaint.modifDate}" />
				</p:column>

				<p:column id="consNameColumn" sortBy="#{complaint.contact_name}"
					headerText="#{ctrlm['list.of.complaints.consumer.name']}"
					filterMatchMode="contains">
					<h:outputText value="#{complaint.contact_name}" />
				</p:column>

				<p:column id="distinctionColumn" sortBy="#{complaint.distinction}"
					headerText="#{ctrlm['list.of.complaints.distinction']}"
					filterMatchMode="contains">
					<h:outputText value="#{complaint.distinction}" />
				</p:column>

				<p:column id="sectorColumn" sortBy="#{complaint.sector}"
					headerText="#{ctrlm['list.of.complaints.sector']}"
					filterMatchMode="contains">
					<h:outputText value="#{complaint.sector}" />
				</p:column>

				<p:column id="typesColumn"
					sortBy="#{complaintActions.transfComplTypes(complaint)}"
					headerText="#{ctrlm['list.of.complaints.type.of.complaint']}"
					filterMatchMode="contains">
					<h:outputText
						value="#{complaintActions.transfComplTypes(complaint)}"
						escape="false" />
				</p:column>

				<p:column>
					<p:commandLink value="Edit" onclick="editDialogVar.show()" />
					<p:dialog id="editDialog" header="Edit" widgetVar="editDialogVar"
						resizable="false" modal="true">
						<h:outputText value="Resistance to PrimeFaces is futile!" />
					</p:dialog>
				</p:column>

				<p:column>
					<h:commandLink value="Delete" action="#" />
				</p:column>

				<p:column>
					<h:selectBooleanCheckbox title="Select" />
				</p:column>
			</p:dataTable>
			<p:blockUI block="unlockedComplDt" trigger="unlockedComplDt">  
        			LOADING
			</p:blockUI>

		</h:form>

	</p:panel>

</div>