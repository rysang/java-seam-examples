<div xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">


	<p:panel id="panelComplaintsLocked" header="#{ctrlm['list.of.complaints.title.open.complaints']}"
		style="margin-bottom:10px;">
		<h:form>
			<p:dataTable id="lockedComplDt" var="entry" value="#{complaintActions.getLockedComplaints(currentUser.username)}"
				widgetVar="complaintLockedTable" emptyMessage="No complaints found with given criteria" paginator="true" rows="10"
				paginatorPosition="bottom"
				paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				rowsPerPageTemplate="5,10,15" paginatorAlwaysVisible="false">

				<p:column id="refColumn" sortBy="#{entry.complaintSet.reference}"
					headerText="#{ctrlm['list.of.complaints.reference']}" filterMatchMode="contains">
					<h:outputText value="#{entry.complaintSet.reference}" />
				</p:column>

				<p:column id="dateColumn" sortBy="#{entry.complaintSet.modification_date}"
					headerText="#{ctrlm['list.of.complaints.date']}" filterMatchMode="contains">
					<h:outputText value="#{entry.complaintSet.modification_date}" />
				</p:column>

				<p:column id="consNameColumn" sortBy="#{entry.complaintSet.contact_name}"
					headerText="#{ctrlm['list.of.complaints.consumer.name']}" filterMatchMode="contains">
					<h:outputText value="#{entry.complaintSet.contact_name}" />
				</p:column>

				<p:column id="distinctionColumn" sortBy="#{entry.complaintSet.distinction}"
					headerText="#{ctrlm['list.of.complaints.distinction']}" filterMatchMode="contains">
					<h:outputText value="#{entry.complaintSet.distinction}" />
				</p:column>

				<p:column id="sectorColumn" sortBy="#{entry.complaintSet.sector}" headerText="#{ctrlm['list.of.complaints.sector']}"
					filterMatchMode="contains">
					<h:outputText value="#{entry.complaintSet.sector}" />
				</p:column>

				<p:column id="typesColumn" sortBy="#{complaintActions.transfComplTypes(entry.complaintSet)}"
					headerText="#{ctrlm['list.of.complaints.type.of.complaint']}" filterMatchMode="contains">
					<h:outputText value="#{complaintActions.transfComplTypes(entry.complaintSet)}" escape="false" />
				</p:column>

				<p:column>
					<p:commandLink value="View" action="#{complaintActions.viewEntry(entry)}" ajax="false" />
				</p:column>

				<p:column>
					<h:commandLink value="Delete" action="#" />
				</p:column>

				<p:column>
					<h:selectBooleanCheckbox title="Select" />
				</p:column>
			</p:dataTable>
			<p:blockUI block="lockedComplDt" trigger="lockedComplDt">
				<h:outputText value="#{ctrlm['submissions.loading']}" />
			</p:blockUI>


		</h:form>

	</p:panel>

</div>